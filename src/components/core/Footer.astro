---
import { Socials, SITE } from "@/config";
import { getIconByName } from "@/components/core/Icons";
import { Button } from "@/components/ui/button";

// To pass the tailwindcss classes to the astro component
const { class: className } = Astro.props;
const currentYear = new Date().getFullYear();
const copyrightText = `Â© ${currentYear} ${SITE.author}`;
---

<footer class:list={["py-[1.2rem] px-6 w-full", className]}>
  <div
    class="flex flex-col items-center justify-between gap-4 md:flex-row container"
  >
    <p
      class="text-center text-sm leading-loose text-muted-foreground md:text-left"
    >
      <span>{copyrightText}</span>
      <span class="lt-sm:hidden">&nbsp;|&nbsp;</span>
      <span>
        Powered by
        <a
          class="op-100! color-[--fg]!"
          href="https://github.com/HYP3R00T/CelestialDocs"
        >
          Astro CelestialDocs theme
        </a>
      </span>
      <span class="lt-sm:hidden">&nbsp;|&nbsp;</span>
      <span>
        Developed by <a
          href="https://github.com/mactavishz"
          target="_blank"
          rel="noreferrer"
          class="font-medium underline underline-offset-4">Mactavish</a
        >
      </span>
      <span class="lt-sm:hidden">&nbsp;|&nbsp;</span>
      <span>
        Designed by <a
          href="/"
          target="_blank"
          rel="noreferrer"
          class="font-medium underline underline-offset-4">Changyu Yi</a
        >
      </span>
    </p>
    <div class="flex gap-4">
      {
        Socials.filter((social) => social.active).map((social) => {
          const Icon = getIconByName(social.name);
          return (
            <a
              href={social.href}
              title={social.linkTitle}
              target="_blank"
              rel="noreferrer"
              class="text-muted-foreground hover:text-primary"
            >
              <Button size="icon" variant="ghost">
                {Icon && <Icon className="h-[1.2rem] w-[1.2rem]" />}
              </Button>
            </a>
          );
        })
      }
    </div>
  </div>
</footer>
